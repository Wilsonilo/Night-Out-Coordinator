webpackJsonp([1],{10:function(t,e,o){function s(t){o(34)}var i=o(8)(o(32),o(37),s,"data-v-5f8ad072",null);t.exports=i.exports},31:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(2),i=o.n(s);e.default={name:"App",data:function(){return{onhome:!0,cities:[],userAuth:!1,weHaveResultsCities:!1,selectedCity:void 0,accessToken:"jZOg90bE5Uxo2LicBFv5FObkewXVn-lkVKFruPv4fxRMk47HKRWnIf_E8OCF_xnlsbL0-nV4o_hfldczjP938XC6oJtNFtHHSisx2nryH-tLtnYHmqkj5tEtnC2kWXYx",yelpid:"m3_u6HkBhUp9xpxBUQAhog",yelpsecret:"TXyfobR7PoFkHFEA3OuSgVuOVEOpGjpM2IBxnUEj6cNtexGui0Zd9WNQI0LTJ7LU",cityinput:"",currentuserid:void 0,holderCityPrev:"",resultsForUser:[]}},watch:{resultsForUser:function(t){console.log(t)}},created:function(){var t=this;console.log(this.$route.query),this.selectedCity="none",fetch("api/users/session",{method:"GET"}).then(function(t){return t.json()}).then(function(e){console.log(e),void 0!==e.userid&&(t.currentuserid=e.userid,t.holderCityPrev=e.locationuser,t.weHaveResultsCities=!0,t.resultsForUser=e.placesuser)})},methods:{joinPlace:function(t){this.resultsForUser[t].usergoing=!0,console.log(t,this.resultsForUser[t]),void 0===this.currentuserid&&i.a.post("api/users/savesession",{location:this.holderCityPrev,places:this.resultsForUser}).then(function(t){location.href="api/auth/twitter"})},isPlaceActive:function(t){return!0===this.resultsForUser[t].usergoing},lookForCity:function(t){var e=this,o=t.target.value;if(void 0!==o&&""!==o){var s="https://api.teleport.org/api/cities/?search="+o;fetch(s,{method:"GET"}).then(function(t){return t.json()}).then(function(t){e.cities=[],t.count>0&&(e.cities=t._embedded["city:search-results"],e.reloadresults())})}},reloadresults:function(){void 0!==this.cities&&this.cities.length>0&&(this.weHaveResultsCities=!0)},lookFor:function(t){var e=this;this.selectedCity=t,this.holderCityPrev=t,console.log("User selected a city: ",this.selectedCity),void 0!==this.selectedCity&&(console.log("Requesting: ",this.selectedCity),i.a.post("api/yelp/search",{location:this.selectedCity,limit:10},{headers:{Authorization:"Bearer "+this.accessToken}}).then(function(t){console.log(t.data),e.resultsForUser=[];for(var o=0;o<10;o++)t.data[o].usergoing=!1,e.resultsForUser.push(t.data[o]);console.log(e.resultsForUser),e.cityinput="",e.weHaveResultsCities=!1,e.cities=[],e.selectedCity="none"}).catch(function(t){console.log("Got error: ",t)}))}}}},32:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"about",data:function(){return{onhome:!1}}}},33:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(13),i=o(12),r=o(11),n=o(2),a=(o.n(n),o(9)),l=o.n(a),c=o(10),u=o.n(c);s.a.use(i.a),s.a.use(r.a);var d=[{path:"/about",component:u.a}],h=new i.a({routes:d});new s.a({el:"#app",render:function(t){return t(l.a)},router:h})},34:function(t,e){},37:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"jumbotron",attrs:{id:"about"}},[t._v('\n\tNight Out Coordinator is a web-app created for the challenge "Build a Nightlife Coordination App" of '),o("a",{attrs:{href:"http://freecodecamp.org",target:"_blank"}},[t._v("Freecodecamp.org")]),t._v(", check more information here: "),o("a",{attrs:{href:"https://www.freecodecamp.org/challenges/build-a-nightlife-coordination-app",target:"_blank"}},[t._v("https://www.freecodecamp.org/challenges/build-a-nightlife-coordination-app")]),t._v("\n\tor get the full github repo here: "),o("a",{attrs:{href:"https://github.com/Wilsonilo/Night-Out-Coordinator",target:"_blank"}},[t._v("https://github.com/Wilsonilo/Night-Out-Coordinator")])])}]}},38:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("h1",[o("router-link",{attrs:{to:"/"}},[t._v("\n                        Night out Coordinator\n                    ")])],1),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("form",{staticClass:"animated bounce"},[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"placelooking"}},[t._v("Where are you from?")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.cityinput,expression:"cityinput"}],staticClass:"form-control",attrs:{type:"text",id:"placelooking",placeholder:"San Francisco, California"},domProps:{value:t.cityinput},on:{keydown:t.lookForCity,input:function(e){e.target.composing||(t.cityinput=e.target.value)}}}),t._v(" "),o("small",{staticClass:"form-text text-muted",attrs:{id:"smallhelp"}},[t._v("Look for good places to eat something or places to go.")])])])])]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("hr"),t._v(" "),t.weHaveResultsCities&&"none"===t.selectedCity?o("div",{attrs:{id:"citiesresults"}},[o("ul",{staticClass:"list-group"},t._l(t.cities,function(e){return o("li",{staticClass:"list-group-item",on:{click:function(o){t.lookFor(e.matching_alternate_names[0].name)}}},[t._v(t._s(e.matching_full_name))])}))]):t._e(),t._v(" "),t.resultsForUser.length>0&&0===t.cityinput.length?o("div",{staticClass:"jumbotron"},[o("h3",{staticStyle:{color:"#6441A5"}},[t._v(t._s(t.holderCityPrev))]),t._v(" "),o("ul",{staticClass:"list-group"},t._l(t.resultsForUser,function(e,s){return o("li",{staticClass:"list-group-item"},[t._v("\n                                    "+t._s(e.name)+"\n                                    "),o("br"),t._v(" "),t.isPlaceActive(s)?t._e():o("button",{staticClass:"btn btn-success btn-sm",on:{click:function(e){t.joinPlace(s)}}},[t._v("I'm Going")]),t._v(" "),t.isPlaceActive(s)?o("div",[t._v(" You are going here!")]):t._e()])}))]):t._e(),t._v(" "),o("router-view")],1)])])]),t._v(" "),o("footer",{staticClass:"row"},[o("div",{staticClass:"col",attrs:{align:"center"}},[t.onhome?o("router-link",{attrs:{to:"/about"}},[t._v("About the project.")]):o("router-link",{attrs:{to:"/"}},[t._v("Go to Search Results")]),t._v(" "),o("br"),t._v("\n                MIT - Coded with love for Freecodecamp by Wilson Mu√±oz\n            ")],1)])])])},staticRenderFns:[]}},41:function(t,e){},9:function(t,e,o){var s=o(8)(o(31),o(38),null,null,null);t.exports=s.exports}},[33]);
//# sourceMappingURL=app.239ca38ae9168dcec290.js.map
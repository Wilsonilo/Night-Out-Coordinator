webpackJsonp([1],{10:function(t,e,s){function o(t){s(34)}var i=s(8)(s(32),s(37),o,"data-v-5f8ad072",null);t.exports=i.exports},31:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(2),i=s.n(o);e.default={name:"App",data:function(){return{onhome:!0,cities:[],userAuth:!1,weHaveResultsCities:!1,selectedCity:void 0,accessToken:"jZOg90bE5Uxo2LicBFv5FObkewXVn-lkVKFruPv4fxRMk47HKRWnIf_E8OCF_xnlsbL0-nV4o_hfldczjP938XC6oJtNFtHHSisx2nryH-tLtnYHmqkj5tEtnC2kWXYx",yelpid:"m3_u6HkBhUp9xpxBUQAhog",yelpsecret:"TXyfobR7PoFkHFEA3OuSgVuOVEOpGjpM2IBxnUEj6cNtexGui0Zd9WNQI0LTJ7LU",cityinput:"",currentuserid:void 0,holderCityPrev:"",resultsForUser:[]}},watch:{resultsForUser:function(t){console.log(t)}},created:function(){var t=this;console.log(this.$route.query),this.selectedCity="none",fetch("api/users/session",{method:"GET"}).then(function(t){return t.json()}).then(function(e){console.log(e),void 0!==e.userid&&(t.currentuserid=e.userid,t.holderCityPrev=e.locationuser,t.weHaveResultsCities=!0,t.resultsForUser=e.placesuser)})},methods:{joinPlace:function(t){this.resultsForUser[t].usergoing=!0,console.log(t,this.resultsForUser[t]),void 0===this.currentuserid&&i.a.post("api/users/savesession",{location:this.holderCityPrev,places:this.resultsForUser}).then(function(t){location.href="api/auth/twitter"})},isPlaceActive:function(t){return!0===this.resultsForUser[t].usergoing},lookForCity:function(t){var e=this,s=t.target.value;if(void 0!==s&&""!==s){var o="https://api.teleport.org/api/cities/?search="+s;fetch(o,{method:"GET"}).then(function(t){return t.json()}).then(function(t){e.cities=[],t.count>0&&(e.cities=t._embedded["city:search-results"],e.reloadresults())})}},reloadresults:function(){void 0!==this.cities&&this.cities.length>0&&(this.weHaveResultsCities=!0)},lookFor:function(t){var e=this;if(this.selectedCity=t,this.holderCityPrev=t,console.log("User selected a city: ",this.selectedCity),void 0!==this.selectedCity){console.log("Requesting: ",this.accessToken,this.selectedCity),i.a.get("https://api.yelp.com/v3/businesses/search",{location:this.selectedCity,limit:10},{headers:{Authorization:"Bearer "+this.accessToken}}).then(function(t){e.resultsForUser=[];for(var s=0;s<10;s++)t.data[s].usergoing=!1,e.resultsForUser.push(t.businesses[s]);console.log(e.resultsForUser),e.cityinput="",e.weHaveResultsCities=!1,e.cities=[],e.selectedCity="none"}).catch(function(t){console.log("Got error: ",t)})}}}}},32:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"about",data:function(){return{onhome:!1}}}},33:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(13),i=s(12),r=s(11),n=s(2),a=(s.n(n),s(9)),l=s.n(a),c=s(10),u=s.n(c);o.a.use(i.a),o.a.use(r.a);var d=[{path:"/about",component:u.a}],h=new i.a({routes:d});new o.a({el:"#app",render:function(t){return t(l.a)},router:h})},34:function(t,e){},37:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"jumbotron",attrs:{id:"about"}},[t._v('\n\tNight Out Coordinator is a web-app created for the challenge "Build a Nightlife Coordination App" of '),s("a",{attrs:{href:"http://freecodecamp.org",target:"_blank"}},[t._v("Freecodecamp.org")]),t._v(", check more information here: "),s("a",{attrs:{href:"https://www.freecodecamp.org/challenges/build-a-nightlife-coordination-app",target:"_blank"}},[t._v("https://www.freecodecamp.org/challenges/build-a-nightlife-coordination-app")]),t._v("\n\tor get the full github repo here: "),s("a",{attrs:{href:"https://github.com/Wilsonilo/Night-Out-Coordinator",target:"_blank"}},[t._v("https://github.com/Wilsonilo/Night-Out-Coordinator")])])}]}},38:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("h1",[s("router-link",{attrs:{to:"/"}},[t._v("\n                        Night out Coordinator\n                    ")])],1),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("form",{staticClass:"animated bounce"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"placelooking"}},[t._v("Where are you from?")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.cityinput,expression:"cityinput"}],staticClass:"form-control",attrs:{type:"text",id:"placelooking",placeholder:"San Francisco, California"},domProps:{value:t.cityinput},on:{keydown:t.lookForCity,input:function(e){e.target.composing||(t.cityinput=e.target.value)}}}),t._v(" "),s("small",{staticClass:"form-text text-muted",attrs:{id:"smallhelp"}},[t._v("Look for good places to eat something or places to go.")])])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("hr"),t._v(" "),t.weHaveResultsCities&&"none"===t.selectedCity?s("div",{attrs:{id:"citiesresults"}},[s("ul",{staticClass:"list-group"},t._l(t.cities,function(e){return s("li",{staticClass:"list-group-item",on:{click:function(s){t.lookFor(e.matching_full_name)}}},[t._v(t._s(e.matching_full_name))])}))]):t._e(),t._v(" "),t.resultsForUser.length>0&&0===t.cityinput.length?s("div",{staticClass:"jumbotron"},[s("h3",{staticStyle:{color:"#6441A5"}},[t._v(t._s(t.holderCityPrev))]),t._v(" "),s("ul",{staticClass:"list-group"},t._l(t.resultsForUser,function(e,o){return s("li",{staticClass:"list-group-item"},[t._v("\n                                    "+t._s(e.name)+"\n                                    "),s("br"),t._v(" "),t.isPlaceActive(o)?t._e():s("button",{staticClass:"btn btn-success btn-sm",on:{click:function(e){t.joinPlace(o)}}},[t._v("I'm Going")]),t._v(" "),t.isPlaceActive(o)?s("div",[t._v(" You are going here!")]):t._e()])}))]):t._e(),t._v(" "),s("router-view")],1)])])]),t._v(" "),s("footer",{staticClass:"row"},[s("div",{staticClass:"col",attrs:{align:"center"}},[t.onhome?s("router-link",{attrs:{to:"/about"}},[t._v("About the project.")]):s("router-link",{attrs:{to:"/"}},[t._v("Go to Search Results")]),t._v(" "),s("br"),t._v("\n                MIT - Coded with love for Freecodecamp by Wilson Mu√±oz\n            ")],1)])])])},staticRenderFns:[]}},41:function(t,e){},9:function(t,e,s){var o=s(8)(s(31),s(38),null,null,null);t.exports=o.exports}},[33]);
//# sourceMappingURL=app.b3c7036ece2c971bfa10.js.map